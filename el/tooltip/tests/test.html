<!DOCTYPE HTML>
<html lang=en>
<head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width">
    <title>tests</title>
    <link href="../../../css/classless/simple.css" rel=stylesheet>
    <script src="../../../u2/tests/test-init.js" type=module async></script>
    <script src="../../../u2/auto.js" type=module async></script>


    <link href="../tooltip.css" rel=stylesheet >
    <script src="../tooltip.js" type=module async></script>

<body>

<section>

    <button>
        focusable
        <u2-tooltip tabindex=-1>Click on me and i will not disappear</u2-tooltip>
    </button>

    <button aria-labelledby=shared>shared1</button>
    <button aria-labelledby=shared>shared2</button>
    <u2-tooltip id=shared>Same tooltip for multiple elements</u2-tooltip>

    <button>
        <u2-tooltip>Saved the file</u2-tooltip>
        save
        <div aria-labelledby="nested1"" id="nested" style="background:black; display:inline">
            <u2-tooltip>Nested test</u2-tooltip>
            nested
        </div>
    </button>

    <button>
        ritch
        <u2-tooltip tabindex="-1">
            Super duper
            <a href="#">more</a>
        </u2-tooltip>
    </button>

    <button>
        <u2-tooltip>
            Longer text, Lorem Ispsum dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget consectetur consectetur, nisi nisl tincidunt nisi, eget porta nisl nisl euismod nisi.
        </u2-tooltip>
        long text
    </button>

    <hr>


    <button style="margin-inline:auto; display:block">
        position=top
        <u2-tooltip position="top">Tooltip</u2-tooltip>
    </button>
    <button style="margin-inline:auto; display:block">
        position=left
        <u2-tooltip position="left">Tooltip</u2-tooltip>
    </button>
    <button style="margin-inline:auto; display:block">
        position=right
        <u2-tooltip position="right">Tooltip</u2-tooltip>
    </button>
    <button style="margin-inline:auto; display:block">
        position=bottom
        <u2-tooltip position="bottom">Tooltip</u2-tooltip>
    </button>

    <h2>position auto (beta)</h2>
    <div style="margin-inline:auto; display:block">
        <button>
            position=auto
            <u2-tooltip position="auto">Tooltip</u2-tooltip>
        </button>
        <button>
            position=auto
            <u2-tooltip position="auto">Tooltip</u2-tooltip>
        </button>
    </div>


    <button style="position:absolute; bottom:2rem; left:2rem">
        Tooltip should stay in viewport
        <u2-tooltip>
            Does it?
        </u2-tooltip>
    </button>

    <br><br>

    <label>
        label
        <input aria-labelledby="ttinp" value="input">
        <u2-tooltip id="ttinp">Tooltip using aria-labelledby</u2-tooltip>
    </label>

    <br><br>

    <ul>
        <li><span aria-labelledby="dyn">Apple</span>
        <li><span aria-labelledby="dyn">Banana</span>
        <li><span aria-labelledby="dyn">Orange</span>
    </ul>
    <u2-tooltip id=dyn></u2-tooltip>
    <script>
        dyn.addEventListener('u2-show', function(e) {
            dyn.innerHTML = `This is a great ${e.detail.target.innerText}`;
        });
    </script>

    <h2>Move tooltip to another element and styled</h2>
    <button onclick="const tt = document.querySelector('.moveDom'); const t = tt.parentNode==target1?target2:target1; t.appendChild(tt);">change target</button>
    <div class="u2-flex targets">
        <div id=target1><u2-tooltip class="moveDom" style="background:orange; color:black; box-shadow:0 0 1rem #0008; font-size:1.2rem;">Changing target</u2-tooltip></div>
        <div id=target2></div>
    </div>
    <style>
        .targets > * {
            &::after {
                padding:2rem;
                content: "is target!";
                display:block;
                background: var(--color);
                color:#fff;
            }
            &:empty::after {
                padding:2rem;
                content: "not target";
                background: var(--color-light);
                color:#000;
            }
        }
    </style>
    


    <u2-code editable trim>
        <u2-tooltip slot="tools">Change CSS Live</u2-tooltip>
        <style>
        u2-tooltip {
            font-size:max(12px, .7rem);
            --line-height: 1.4em;
            background:var(--color-text);
            color:var(--color-bg);
            border-radius:.3rem;
        }
        u2-tooltip a {
            color:var(--color-light);
        }

        u2-tooltip::before { /* arrow */
            --size:.5em;
        }
        </style>
    </u2-code>


    <button onclick="dialog1.showModal()">
        Show dialog
    </button>
    <dialog id="dialog1">
       <h1>Dialog</h1>
        <button>
            focus or hover me
            <u2-tooltip position=right>Test if tooltip works inside dialog</u2-tooltip>
        </button>
        <br>
        If tooltips are not using popover attribute,<br>
        they can not be over dialog. <br>
    </dialog>

</section>