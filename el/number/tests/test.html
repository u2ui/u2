<!DOCTYPE HTML>
<html lang=en>
<head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width">
    <script src="../../../u2/tests/test-init.js" type=module async></script>
    <script src="../../../u2/auto.js" type=module async></script>
    

    <link rel=stylesheet href="../../../css/classless/full.css">
    <link rel=stylesheet href="../../../css/classless/simple.css">


    <script src="../number.js" type=module async></script>
    <link href="../number.css" rel=stylesheet>

<body>

<section>

    <figure style="padding:1rem; background:var(--color-light); font-size:1.5rem">
        Number: &nbsp; <u2-number id=testSet currency="EUR">4000.500 Euro</u2-number>
    </figure>

    <script type=module>
    attrForm.oninput = function({target}) {
        // these attributes are mutually exclusive
        const styles = ['unit', 'currency', 'percent'];
        if (styles.includes(target.name)) {
            for (let style of styles) {
                if (target.name === style) continue;
                attrForm.elements[style].value = '';
            }
        }
        
        for (let [key, value] of new FormData(attrForm)) {
            if (key === 'inner') {
                testSet.innerHTML = value;
                continue;
            }
            if (value.trim() === '') {
                testSet.removeAttribute(key);
            } else {
                testSet.setAttribute(key, value.trim());
            }
        }
    }
    </script>

    <div class="u2-table -Fields -Flex">
        <strong>
            <span>
                <span>Attribute</span>
                <span>Value</span>
            </span>
        </strong>  
        <form id=attrForm>
            <label>
                <span>value</span>
                <input name=value>
            </label>
            <label>
                <div>
                    innerHTML* <br>
                </div>
                <input name=inner value="4000.500 Euro">
            </label>
            <label>
                <span>lang</span>
                <select name=lang>
                    <option value="">
                    <option>de
                    <option>en
                    <option>es
                    <option>it
                    <option>fr
                </select>
            </label>
            <label>
                <span>digits</span>
                <select name=digits>
                    <option>
                    <option>0
                    <option>1
                    <option>2
                    <option>3
                    <option>4
                    <option>5
                    <option>6
                </select>
            </label>
            <label>
                <span>currency</span>
                <select name=currency>
                    <option>
                    <option>CHF
                    <option selected>EUR
                    <option>USD
                    <option>GBP
                    <option>JPY
                </select>
            </label>
            <label>
                <span>unit</span>
                <select name=unit>
                    <option>
                    <option>kilometer-per-hour
                    <option>meter-per-second
                    <option>mile-per-hour
                    <option>foot-per-second
                </select>
            </label>
            <label>
                <span>percent</span>
                <select name=percent>
                    <option>
                    <option>percent
                </select>
            </label>
        </form>
    </div>  

    <br><br>

    <small>* innerHTML is evaluated as value if value-attribute is not present, else its simply a fallback for when no javascript is available</small>


    <style>
    label {
        display:block;
        gap:1rem;
    }
    u2-number {
        font-size:2em;
    }
    </style>
</section>

